"use strict";(self.webpackChunkPanelZakladu=self.webpackChunkPanelZakladu||[]).push([[545],{9545:(Ct,h,s)=>{s.r(h),s.d(h,{PlatnosciPracownikaModule:()=>ft});var u=s(95),m=s(8677),T=s(6116),p=s(3501),x=s(1817);class k{constructor(){this.status=0,this.aktywneDo=new Date,this.dniDoKoncaAktywnosci="",this.konto=0,this.iloscPracownikow=-1,this.wykorzystaneZDarmowych=0}}var t=s(5879),d=s(9024),w=s(6850),_=s(974),l=s(6814),y=s(105),P=s(3866),b=s(4720);function O(o,e){1&o&&(t.TgZ(0,"th"),t._uU(1,"Nr."),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Nazwa"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Data"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Kwota"),t.qZA(),t.TgZ(8,"th",5),t._uU(9,"Status"),t.qZA())}function M(o,e){1&o&&(t.TgZ(0,"td",18),t._uU(1,"Nowa"),t.qZA())}function A(o,e){1&o&&(t.TgZ(0,"td",19),t._uU(1,"Zatwierdzona"),t.qZA())}function v(o,e){1&o&&(t.TgZ(0,"td",20),t._uU(1,"Oczekuj\u0105ca"),t.qZA())}function U(o,e){1&o&&(t.TgZ(0,"td",21),t._uU(1,"B\u0142\u0105d"),t.qZA())}function j(o,e){1&o&&(t.TgZ(0,"td",22),t._uU(1,"Przeterminowana"),t.qZA())}function N(o,e){1&o&&(t.TgZ(0,"td",23),t._uU(1,"Opuszczona"),t.qZA())}function D(o,e){1&o&&(t.TgZ(0,"td",24),t._uU(1,"Odrzucona"),t.qZA())}function q(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(i);const a=t.oxw(2);return t.KtG(a.zamknijWszystkie())}),t._uU(1,"Zwi\u0144"),t.qZA()}}function S(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit;return t.oxw().zamknijWszystkie(),t.KtG(a.czyRozwiniete=!0)}),t._uU(1," Rozwi\u0144 "),t.qZA()}}function J(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.otworzPlatnosc(a.linkDoPlatnosci))}),t._uU(1," Op\u0142a\u0107 ponownie "),t.qZA()}}function I(o,e){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"maxDlugosc"),t.TgZ(5,"button",6),t._uU(6," ? "),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.ynx(12,7),t.YNc(13,M,2,0,"td",8),t.YNc(14,A,2,0,"td",9),t.YNc(15,v,2,0,"td",10),t.YNc(16,U,2,0,"td",11),t.YNc(17,j,2,0,"td",12),t.YNc(18,N,2,0,"td",13),t.YNc(19,D,2,0,"td",14),t.BQk(),t.TgZ(20,"td"),t.YNc(21,q,2,0,"button",15),t.YNc(22,S,2,0,"button",16),t.YNc(23,J,2,0,"button",17),t.qZA()),2&o){const i=e.index,n=e.$implicit,a=t.oxw();t.xp6(1),t.Oqu(i),t.xp6(2),t.hij(" ",t.xi3(4,16,n.opis,a.isMobile())," "),t.xp6(2),t.Q6J("ngbPopover",n.opis),t.xp6(3),t.Oqu(t.xi3(9,19,n.dataUtworzenia,"dd.MM.yyyy HH:mm")),t.xp6(3),t.hij("",a.liczba(n.kwota)/100,"z\u0142"),t.xp6(1),t.Q6J("ngSwitch",n.probyPlatnosci[n.probyPlatnosci.length-1].status),t.xp6(1),t.Q6J("ngSwitchCase","NEW"),t.xp6(1),t.Q6J("ngSwitchCase","CONFIRMED"),t.xp6(1),t.Q6J("ngSwitchCase","PENDING"),t.xp6(1),t.Q6J("ngSwitchCase","ERROR"),t.xp6(1),t.Q6J("ngSwitchCase","EXPIRED"),t.xp6(1),t.Q6J("ngSwitchCase","ABANDONED"),t.xp6(1),t.Q6J("ngSwitchCase","REJECTED"),t.xp6(2),t.Q6J("ngIf",n.czyRozwiniete),t.xp6(1),t.Q6J("ngIf",!n.czyRozwiniete),t.xp6(1),t.Q6J("ngIf","NEW"==n.probyPlatnosci[n.probyPlatnosci.length-1].status&&null!=n.linkDoPlatnosci)}}function Y(o,e){1&o&&(t._UZ(0,"th",28),t.TgZ(1,"th"),t._uU(2,"Nr."),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Identyfikator"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Data"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Status"),t.qZA())}function Q(o,e){1&o&&(t.TgZ(0,"td",18),t._uU(1,"Nowa"),t.qZA())}function R(o,e){1&o&&(t.TgZ(0,"td",19),t._uU(1,"Zatwierdzona"),t.qZA())}function K(o,e){1&o&&(t.TgZ(0,"td",20),t._uU(1,"Oczekuj\u0105ca"),t.qZA())}function B(o,e){1&o&&(t.TgZ(0,"td",21),t._uU(1,"B\u0142\u0105d"),t.qZA())}function W(o,e){1&o&&(t.TgZ(0,"td",22),t._uU(1,"Przeterminowana"),t.qZA())}function E(o,e){1&o&&(t.TgZ(0,"td",23),t._uU(1,"Opuszczona"),t.qZA())}function F(o,e){1&o&&(t.TgZ(0,"td",24),t._uU(1,"Odrzucona"),t.qZA())}function H(o,e){if(1&o&&(t._UZ(0,"td",28),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.ynx(8,7),t.YNc(9,Q,2,0,"td",8),t.YNc(10,R,2,0,"td",9),t.YNc(11,K,2,0,"td",10),t.YNc(12,B,2,0,"td",11),t.YNc(13,W,2,0,"td",12),t.YNc(14,E,2,0,"td",13),t.YNc(15,F,2,0,"td",14),t.BQk()),2&o){const i=e.index,n=e.$implicit;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(n.identyfikatorPayNow),t.xp6(2),t.Oqu(t.xi3(7,11,n.data,"dd.MM.yyyy HH:MM")),t.xp6(2),t.Q6J("ngSwitch",n.status),t.xp6(1),t.Q6J("ngSwitchCase","NEW"),t.xp6(1),t.Q6J("ngSwitchCase","CONFIRMED"),t.xp6(1),t.Q6J("ngSwitchCase","PENDING"),t.xp6(1),t.Q6J("ngSwitchCase","ERROR"),t.xp6(1),t.Q6J("ngSwitchCase","EXPIRED"),t.xp6(1),t.Q6J("ngSwitchCase","ABANDONED"),t.xp6(1),t.Q6J("ngSwitchCase","REJECTED")}}let G=(()=>{var o;class e{constructor(n){this.listonosz=n,this.listaPlatnosci=[],this.page=0,this.pageSize=5}isMobile(){return document.body.offsetWidth<1200?17:45}ngOnInit(){this.pobieranieDanych(),this.autoPobieranieDanych=setInterval(()=>{this.pobieranieDanych()},7e3)}liczba(n){return Number(n)}pobieranieDanych(){const n=this.listaPlatnosci.find(a=>a.czyRozwiniete);this.listonosz.pobierz(p.b.listaPlatnosci).then(a=>{Object.assign(this.listaPlatnosci,a),null!=n&&this.listaPlatnosci.find(c=>{c.id==n.id&&(c.czyRozwiniete=!0)})})}otworzPlatnosc(n){window.open(n,"_blank")}zamknijWszystkie(){this.listaPlatnosci.forEach(n=>{n.czyRozwiniete=!1})}ngOnDestroy(){clearInterval(this.autoPobieranieDanych)}}return(o=e).\u0275fac=function(n){return new(n||o)(t.Y36(d.l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-platnosci-pracownika-tabela"]],decls:5,vars:5,consts:[[3,"async","collectionSize","data","subTableOpenVariable","title"],["TemplateId","thead"],["TemplateId","tbody"],["TemplateId","subTableHead"],["TemplateId","subTableBody"],["colspan","2",1,"menageButton"],["container","body","placement","top","popoverTitle","Opis:",1,"questionDescription",3,"ngbPopover"],[3,"ngSwitch"],["class","statusyPlatnosci","style","color: #005200",4,"ngSwitchCase"],["class","statusyPlatnosci","style","color: green",4,"ngSwitchCase"],["class","statusyPlatnosci","style","color: #d3b500",4,"ngSwitchCase"],["class","statusyPlatnosci","style","color: #ff0000",4,"ngSwitchCase"],["class","statusyPlatnosci","style","color: #4b4b4b",4,"ngSwitchCase"],["class","statusyPlatnosci","style","color: #0010c5",4,"ngSwitchCase"],["class","statusyPlatnosci","style","color: #000000",4,"ngSwitchCase"],["class","przyciskRozwijania zwin",3,"click",4,"ngIf"],["class","przyciskRozwijania",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[1,"statusyPlatnosci",2,"color","#005200"],[1,"statusyPlatnosci",2,"color","green"],[1,"statusyPlatnosci",2,"color","#d3b500"],[1,"statusyPlatnosci",2,"color","#ff0000"],[1,"statusyPlatnosci",2,"color","#4b4b4b"],[1,"statusyPlatnosci",2,"color","#0010c5"],[1,"statusyPlatnosci",2,"color","#000000"],[1,"przyciskRozwijania","zwin",3,"click"],[1,"przyciskRozwijania",3,"click"],[3,"click"],["colspan","2"]],template:function(n,a){1&n&&(t.TgZ(0,"app-table",0),t.YNc(1,O,10,0,"ng-template",1),t.YNc(2,I,24,22,"ng-template",2),t.YNc(3,Y,9,0,"ng-template",3),t.YNc(4,H,16,14,"ng-template",4),t.qZA()),2&n&&t.Q6J("async",!1)("collectionSize",a.listaPlatnosci.length)("data",a.listaPlatnosci)("subTableOpenVariable","czyRozwiniete")("title","Historia transakcji:")},dependencies:[l.O5,l.RF,l.n9,y.a,P.y,m.o8,l.uU,b.y],styles:[".historiaTransakcjiH3[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:bolder;letter-spacing:2px}.statusyPlatnosci[_ngcontent-%COMP%]{font-weight:bolder}.podTabela[_ngcontent-%COMP%]{width:100%}.PodTabelaNaglowek[_ngcontent-%COMP%]{background:#797979}.PodTabelaNaglowek[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid black}.PodTabelaTr[_ngcontent-%COMP%]:nth-of-type(2n){background:#d2d2d2!important}.PodTabelaTr[_ngcontent-%COMP%]:nth-of-type(odd){background:#b0b0b0!important}.ostatni[_ngcontent-%COMP%]{border-bottom:2px solid black}.przyciskRozwijania[_ngcontent-%COMP%]{width:100px;box-shadow:inset 0 1px #fff;background-color:#37c944;border-radius:6px;border:1px solid #dcdcdc;display:inline-block;cursor:pointer;color:#fff;font-family:Arial;font-size:15px;font-weight:700;padding:2px 24px;text-decoration:none;text-shadow:0px 1px 0px #000000;transition:.1s;box-shadow:0 0 4px 1px inset #000000b0}@media (max-width: 700px){.przyciskRozwijania[_ngcontent-%COMP%]{padding:1px 8px;font-size:11px;width:auto}}.przyciskRozwijania.zwin[_ngcontent-%COMP%]{background-color:#24832c}.przyciskRozwijania.zwin[_ngcontent-%COMP%]:hover{background-color:#1a6c20}.przyciskRozwijania[_ngcontent-%COMP%]:hover{background-color:#45d351}.przyciskRozwijania[_ngcontent-%COMP%]:active{position:relative;top:1px}.questionDescription[_ngcontent-%COMP%]{border:2px solid #606060;background:transparent;width:18px;height:18px;line-height:2px;border-radius:50%;color:#000;font-weight:bolder;margin-left:5px}.questionDescription[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.08)}"]}),e})();var L=s(8581),X=s(3e3);let V=(()=>{var o;class e{constructor(n,a,c,r){this.activeModal=n,this.listonosz=a,this.komunikaty_=c,this.errorAnalyzer=r,this.ZaplacNieAktywne=!1,this.kwota=50,this.regulamin=!1,this.environment=L.N}zaplac(){this.check()&&(this.ZaplacNieAktywne=!0,this.listonosz.wyslij(p.b.utworzeniePlatnosci,{kwota:this.kwota}).then(a=>{window.open(a,"_blank"),this.activeModal.close("zaplac")}).catch(a=>{this.errorAnalyzer.analyze(a)}).finally(()=>{this.ZaplacNieAktywne=!1}))}check(){return!(this.kwota<30&&(this.komunikaty_.minimalnaKwotaWplaty(),1))}}return(o=e).\u0275fac=function(n){return new(n||o)(t.Y36(m.Kz),t.Y36(d.l),t.Y36(w.W),t.Y36(X.S))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-okno-platnosci"]],decls:24,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["aria-label","Close","type","button",1,"btn-close",3,"click"],[1,"modal-body"],["step","1","type","number",3,"ngModel","min","ngModelChange"],["colspan","2"],["type","checkbox",3,"ngModel","ngModelChange"],[3,"href"],[1,"modal-footer"],[1,"domyslnyButtonZapisz",3,"disabled","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Wp\u0142ata \u015brodk\xf3w na wirtualne konto:"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return a.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3)(5,"h5"),t._uU(6,"Wybierz kwot\u0119 jak\u0105 chcesz wp\u0142aci\u0107 na swoje wirtualne konto zak\u0142adu."),t.qZA(),t.TgZ(7,"table")(8,"tr")(9,"td")(10,"label"),t._uU(11,"Kwota"),t.qZA()(),t.TgZ(12,"td")(13,"input",4),t.NdJ("ngModelChange",function(r){return a.kwota=r}),t.qZA(),t._uU(14,"z\u0142"),t.qZA()(),t.TgZ(15,"tr")(16,"td",5)(17,"input",6),t.NdJ("ngModelChange",function(r){return a.regulamin=r}),t.qZA(),t._uU(18," Akceptacja regulaminu "),t.TgZ(19,"a",7),t._uU(20,"(link do regulaminu)"),t.qZA()()()()(),t.TgZ(21,"div",8)(22,"button",9),t.NdJ("click",function(){return a.zaplac()}),t._uU(23,"Wp\u0142a\u0107"),t.qZA()()),2&n&&(t.xp6(13),t.Q6J("ngModel",a.kwota)("min",30),t.xp6(4),t.Q6J("ngModel",a.regulamin),t.xp6(2),t.Q6J("href",a.environment.linkDoRegulaminu,t.LSH),t.xp6(3),t.Q6J("disabled",!a.regulamin))},dependencies:[u.Fj,u.wV,u.Wl,u.JJ,u.qQ,u.On],styles:[".modal-footer[_ngcontent-%COMP%]{position:relative;height:70px}h5[_ngcontent-%COMP%]{font-size:14px}label[_ngcontent-%COMP%]{font-size:18px}.logInput[_ngcontent-%COMP%]{width:200px;margin-left:10px}.zapisz[_ngcontent-%COMP%]:disabled{filter:grayscale(.5)}"]}),e})();var f=s(5662);function $(o,e){1&o&&(t.ynx(0),t._uU(1," Aktywacja systemu"),t.BQk())}function tt(o,e){1&o&&(t.ynx(0),t._uU(1," Dezaktywacja systemu"),t.BQk())}function nt(o,e){1&o&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"Aktywacja systemu wi\u0105\u017c\u0119 si\u0119 z pobraniem op\u0142aty zgodnej z cennikiem."),t.qZA(),t.TgZ(3,"p"),t._uU(4,"System mo\u017ce by\u0107 aktywowany je\u017celi od poprzedniej aktywacji min\u0119\u0142o wi\u0119cej ni\u017c 30 minut."),t.qZA(),t._UZ(5,"p"),t.TgZ(6,"p",8)(7,"b"),t._uU(8,"UWAGA:"),t.qZA(),t._UZ(9,"br"),t._uU(10,"Dezaktywacja us\u0142ugi nie wi\u0105\u017c\u0119 si\u0119 z zwrotem op\u0142aty, kt\xf3ra jest pobierana za ka\u017cdym razem kiedy aktywowany jest system. "),t.qZA(),t.BQk())}function ot(o,e){1&o&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"Dezaktywacja us\u0142ugi!"),t.qZA(),t.TgZ(3,"p",8)(4,"b"),t._uU(5,"UWAGA:"),t.qZA(),t._UZ(6,"br"),t._uU(7,"Dezaktywacja us\u0142ugi nie wi\u0105\u017c\u0119 si\u0119 z zwrotem op\u0142aty. Ponowna aktywacja wi\u0105za\u0107 si\u0119 b\u0119dzie z ponownym pobraniem op\u0142aty za aktywacj\u0119 systemu. "),t.qZA(),t.BQk())}let z=(()=>{var o;class e{constructor(n,a){this.activeModal=n,this.listonosz=a,this.tryb="wlacz"}}return(o=e).\u0275fac=function(n){return new(n||o)(t.Y36(m.Kz),t.Y36(d.l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-start-stop-usluga"]],inputs:{tryb:"tryb"},decls:13,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["aria-label","Close","type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"domyslnyButtonAnuluj",3,"click"],[1,"domyslnyButtonZapisz",3,"click"],[2,"color","red"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t.YNc(2,$,2,0,"ng-container",2),t.YNc(3,tt,2,0,"ng-container",2),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return a.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,nt,11,0,"ng-container",2),t.YNc(7,ot,8,0,"ng-container",2),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return a.activeModal.dismiss()}),t._uU(10,"Anuluj"),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){return a.activeModal.close()}),t._uU(12,"Potwierd\u017a"),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf","wlacz"==a.tryb),t.xp6(1),t.Q6J("ngIf","wylacz"==a.tryb),t.xp6(3),t.Q6J("ngIf","wlacz"==a.tryb),t.xp6(1),t.Q6J("ngIf","wylacz"==a.tryb))},dependencies:[l.O5]}),e})();var Z=s(590),at=s(5412),et=s(7191),C=s(5597),it=s(9739);let ct=(()=>{var o;class e{constructor(n){this.listonosz=n,this.labels=[],this.datasets=[],this.data={labels:this.labels,datasets:[{label:"Stan konta",data:this.datasets,backgroundColor:"rgba(48,113,255,0.6)",borderColor:"blue",pointStyle:"circle",pointRadius:4,pointHoverRadius:7,tension:.1,fill:{target:"origin",above:"rgba(0,30,231,0.55)"}}]},this.test=(a,c,r)=>{if("Dzi\u015b"==this.labels[c])return this.labels[c];const g=new Date(this.labels[c]),zt=g.getDate()>=10?g.getDate():"0"+g.getDate(),Zt=g.getMonth()+1>=10?g.getMonth()+1:"0"+(g.getMonth()+1);return g.getFullYear()+"-"+Zt+"-"+zt},this.config={type:"line",data:this.data,options:{scale:.4,responsive:!0,interaction:{intersect:!1,mode:"index"},scales:{x:{ticks:{callback:this.test}}},plugins:{tooltip:{callbacks:{},caretSize:8,footerFont:{size:15},bodyFont:{size:15},titleFont:{size:15}},legend:{display:!1},title:{display:!0,text:"Stan konta w poszczeg\xf3lnych dniach",font:{size:20,family:"math"},color:"#0400b4"}}}}}ngOnInit(){this.listonosz.pobierz(p.b.wykresStanuKonta).then(n=>{n.forEach(a=>{const c=new l.uU("pl-PL").transform(a.data,"yyyy-MM-dd");this.labels.push(c),this.datasets.push(a.wartosc/100)}),this.labels[0]="Dzi\u015b",this.chart&&this.chart.destroy(),this.chart=new it.ZP("MyChart",this.config),this.chart.update()})}}return(o=e).\u0275fac=function(n){return new(n||o)(t.Y36(d.l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-wykres-stanu-konta"]],decls:3,vars:1,consts:[[1,"chart-container",2,"max-height","100%","width","100%"],["id","MyChart",2,"max-height","220px","width","90%"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"canvas",1),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",a.chart,""))}}),e})();function st(o,e){1&o&&(t.TgZ(0,"span",18),t._uU(1,"Testowe"),t.qZA())}function lt(o,e){1&o&&(t.TgZ(0,"span",19),t._uU(1,"Aktywne"),t.qZA())}function rt(o,e){1&o&&(t.TgZ(0,"span",20),t._uU(1,"Nieaktywne"),t.qZA())}function pt(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(i);const a=t.oxw();return t.KtG(a.aktywacjaKonta())}),t._uU(1," Aktywuj konto "),t.qZA()}}function ut(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(i);const a=t.oxw();return t.KtG(a.wstrzymajKonto())}),t._uU(1,"Wstrzymaj"),t.qZA()}}let dt=(()=>{var o;class e{constructor(n,a,c,r){this.modalService=n,this.listonosz=a,this.podreczne_=c,this.komunikaty=r,this.pobierzDane=new t.vpe,this.dane=new k,this.faPlus=Z.r8p,this.faMinus=Z.Kl4}nowaPlatnosc(){this.modalService.open(V,{backdrop:"static"})}aktywacjaKonta(){const n=this.modalService.open(z,{});n.componentInstance.auto="wlacz",n.result.then(a=>{this.aktywacjaKontaZapytanie()}).catch(a=>{console.log(1,a)})}wstrzymajKonto(){const n=this.modalService.open(z,{});n.componentInstance.auto="wylacz",n.result.then(a=>{this.wstrzymajKontoZapytanie()}).catch(a=>{})}DodajPracownika(){const n=this.modalService.open(f.e);n.componentInstance.tresc="Zmodyfikowanie ilo\u015bci pracownik\xf3w mo\u017ce wi\u0105za\u0107 si\u0119 z pobraniem dodatkowej op\u0142aty zgodnej z cennikiem.",n.result.then(a=>{this.DodajPracownikaZapytanie()},a=>{})}DodajPracownikaZapytanie(){this.listonosz.wyslij(p.b.PlatnosciIloscPracownikow,{tryb:"dodaj"}).then(n=>{console.log(n)}).catch(n=>{console.log("\u0179le")}).finally(()=>{this.pobierzDane.emit()})}OdejmijPracownika(){if(this.podreczne_.danePodreczneObiekt.returnActiveWorkers()==this.dane.iloscPracownikow)return void this.komunikaty.komunikatInfo(at.k.zakazOdjeciaMiejsc);const n=this.modalService.open(f.e);n.componentInstance.tresc="Zmniejszenie liczby pracownik\xf3w mo\u017ce wi\u0105za\u0107 si\u0119 z zmianami na stronie reprezentacyjnej",n.result.then(a=>{this.OdejmijPracownikaZapytanie()},a=>{})}OdejmijPracownikaZapytanie(){this.listonosz.wyslij(p.b.PlatnosciIloscPracownikow,{tryb:"odejmij"}).then(n=>{console.log(n)}).catch(n=>{console.log("\u0179le")}).finally(()=>{this.pobierzDane.emit()})}aktywacjaKontaZapytanie(){this.listonosz.wyslij(p.b.aktywacjaKonta,{aktywnosc:!0}).then(n=>{this.komunikaty.kontoAktywowane()}).catch(n=>{3==n.error.reasonCode?this.komunikaty.kontoNieAktywowane_zabrakloPieniedzy():this.komunikaty.kontoNieAktywowane()}).finally(()=>{this.pobierzDane.emit()})}wstrzymajKontoZapytanie(){this.listonosz.wyslij(p.b.aktywacjaKonta,{aktywnosc:!1}).then(n=>{this.komunikaty.kontoWstrzymane()}).catch(n=>{this.komunikaty.kontoNieWstrzymane()}).finally(()=>{this.pobierzDane.emit()})}}return(o=e).\u0275fac=function(n){return new(n||o)(t.Y36(m.FF),t.Y36(d.l),t.Y36(et.v),t.Y36(w.W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-platnosci-pracownika-naglowek"]],inputs:{dane:"dane"},outputs:{pobierzDane:"pobierzDane"},decls:50,vars:14,consts:[[1,"glownyDiv"],[1,"czesc"],[1,"tabelaUslug"],["colspan","3"],[1,"dodawanieOdejmowaniePracownikow"],[3,"click"],[3,"icon"],[1,"czesc","czesc3"],[1,"statusTytul"],[1,"status"],["style","color: #00b0ff",4,"ngIf"],["style","color: green",4,"ngIf"],["style","color: red",4,"ngIf"],["colspan","2"],[1,"opis"],[1,"domyslnyButtonZapisz",3,"click"],["class","domyslnyButton2",3,"click",4,"ngIf"],["class","domyslnyButtonUsun",3,"click",4,"ngIf"],[2,"color","#00b0ff"],[2,"color","green"],[2,"color","red"],[1,"domyslnyButton2",3,"click"],[1,"domyslnyButtonUsun",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr")(4,"th",3),t._uU(5,"Dodatki:"),t.qZA()(),t.TgZ(6,"tr",4)(7,"td"),t._uU(8,"Miejsca na pracownik\xf3w"),t.qZA(),t.TgZ(9,"td")(10,"button",5),t.NdJ("click",function(){return a.DodajPracownika()}),t._UZ(11,"fa-icon",6),t.qZA(),t._uU(12),t.TgZ(13,"button",5),t.NdJ("click",function(){return a.OdejmijPracownika()}),t._UZ(14,"fa-icon",6),t.qZA()()()()(),t.TgZ(15,"div",1),t._UZ(16,"app-wykres-stanu-konta"),t.qZA(),t.TgZ(17,"div",7)(18,"table")(19,"tr")(20,"td")(21,"span",8),t._uU(22," Status konta: "),t.qZA()(),t.TgZ(23,"td")(24,"span",9),t.YNc(25,st,2,0,"span",10),t.YNc(26,lt,2,0,"span",11),t.YNc(27,rt,2,0,"span",12),t.qZA()()(),t.TgZ(28,"tr")(29,"td",8),t._uU(30,"Konto:"),t.qZA(),t.TgZ(31,"td",9),t._uU(32),t.qZA()(),t.TgZ(33,"tr")(34,"td",8),t._uU(35,"Pakiet:"),t.qZA(),t.TgZ(36,"td",9),t._uU(37,"Zielony"),t.qZA()(),t.TgZ(38,"tr")(39,"td",13)(40,"span",14)(41,"b"),t._uU(42,"System aktywny do:"),t.qZA(),t._uU(43),t.ALo(44,"date"),t._UZ(45,"br"),t.qZA()()()(),t.TgZ(46,"button",15),t.NdJ("click",function(){return a.nowaPlatnosc()}),t._uU(47,"Wp\u0142a\u0107 pieni\u0105dze na konto"),t.qZA(),t.YNc(48,pt,2,0,"button",16),t.YNc(49,ut,2,0,"button",17),t.qZA()()),2&n&&(t.xp6(11),t.Q6J("icon",a.faPlus),t.xp6(1),t.AsE(" zaj\u0119te ",a.podreczne_.danePodreczneObiekt.returnActiveWorkers()," z ",a.dane.iloscPracownikow," "),t.xp6(2),t.Q6J("icon",a.faMinus),t.xp6(11),t.Q6J("ngIf",-1==a.dane.status),t.xp6(1),t.Q6J("ngIf",1==a.dane.status),t.xp6(1),t.Q6J("ngIf",0==a.dane.status),t.xp6(5),t.hij("",a.dane.konto/100," z\u0142"),t.xp6(11),t.hij(" ",t.xi3(44,11,a.dane.aktywneDo,"dd.MM.yyyy HH:MM")," "),t.xp6(5),t.Q6J("ngIf",-1==a.dane.status||0==a.dane.status),t.xp6(1),t.Q6J("ngIf",1==a.dane.status))},dependencies:[l.O5,C.BN,ct,l.uU],styles:[".glownyDiv[_ngcontent-%COMP%]{width:100%}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]   .czesc3[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}}.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]{padding:10px;float:left}.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(1){width:400px}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(1){width:auto}}.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(2){width:calc(100% - 850px)}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(2){display:none}}.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3){width:450px}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3){width:auto}}.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3)   .statusTytul[_ngcontent-%COMP%]{font-size:18px;padding-right:10px;font-weight:bolder}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3)   .statusTytul[_ngcontent-%COMP%]{font-size:15px}}.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3)   .status[_ngcontent-%COMP%]{font-size:16px;padding-right:10px}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3)   .status[_ngcontent-%COMP%]{font-size:11px}}.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3)   .opis[_ngcontent-%COMP%]{font-size:14px}@media (max-width: 900px){.glownyDiv[_ngcontent-%COMP%]   .czesc[_ngcontent-%COMP%]:nth-of-type(3)   .opis[_ngcontent-%COMP%]{font-size:10px}}.tabelaUslug[_ngcontent-%COMP%]{font-size:17px}@media (max-width: 900px){.tabelaUslug[_ngcontent-%COMP%]{font-size:12px}}.dodawanieOdejmowaniePracownikow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;font-size:20px}@media (max-width: 900px){.dodawanieOdejmowaniePracownikow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px}}.dodawanieOdejmowaniePracownikow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1):hover{color:green}.dodawanieOdejmowaniePracownikow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2):hover{color:red}"]}),e})();function gt(o,e){1&o&&(t.TgZ(0,"th"),t._uU(1,"Nr."),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Nazwa"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Data utworzenia"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Data ko\u0144ca aktywno\u015bci"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Kwota"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Status"),t.qZA())}function mt(o,e){1&o&&(t.TgZ(0,"td",6),t._uU(1,"Nieudane"),t.qZA())}function _t(o,e){1&o&&(t.TgZ(0,"td",7),t._uU(1,"Udane"),t.qZA())}function wt(o,e){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"maxDlugosc"),t.TgZ(5,"button",3),t._uU(6," ? "),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.YNc(15,mt,2,0,"td",4),t.YNc(16,_t,2,0,"td",5)),2&o){const i=e.index,n=e.$implicit;t.xp6(1),t.Oqu(i),t.xp6(2),t.hij("",t.xi3(4,8,n.opis,30)," "),t.xp6(2),t.Q6J("ngbPopover",n.opis),t.xp6(3),t.Oqu(t.xi3(9,11,n.dataUtworzenia,"dd.MM.yyyy HH:mm")),t.xp6(3),t.Oqu(t.xi3(12,14,n.dataKonca,"dd.MM.yyyy HH:mm")),t.xp6(3),t.hij("",n.amount/100,"z\u0142"),t.xp6(1),t.Q6J("ngIf",0==n.status),t.xp6(1),t.Q6J("ngIf",1==n.status)}}let yt=(()=>{var o;class e{pageCount(){return Math.ceil(this.listaPlatnosci.length/this.pageSize)}constructor(n){this.listonosz=n,this.page=1,this.pageSize=5,this.listaPlatnosci=[]}ngOnInit(){this.pobieranieDanych(),this.autoPobieranieDanych=setInterval(()=>{this.pobieranieDanych()},7e3)}pobieranieDanych(){this.listonosz.pobierz(p.b.listaOplat).then(n=>{Object.assign(this.listaPlatnosci,n)})}ngOnDestroy(){clearInterval(this.autoPobieranieDanych)}}return(o=e).\u0275fac=function(n){return new(n||o)(t.Y36(d.l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-platnosci-pracownika-oplaty"]],decls:3,vars:5,consts:[[3,"async","collectionSize","data","subTableOpenVariable","title"],["TemplateId","thead"],["TemplateId","tbody"],["container","body","placement","top","popoverTitle","Opis:",1,"questionDescription",3,"ngbPopover"],["style","font-weight: bolder; color: darkred",4,"ngIf"],["style","font-weight: bolder; color: #0e7908",4,"ngIf"],[2,"font-weight","bolder","color","darkred"],[2,"font-weight","bolder","color","#0e7908"]],template:function(n,a){1&n&&(t.TgZ(0,"app-table",0),t.YNc(1,gt,12,0,"ng-template",1),t.YNc(2,wt,17,17,"ng-template",2),t.qZA()),2&n&&t.Q6J("async",!1)("collectionSize",a.listaPlatnosci.length)("data",a.listaPlatnosci)("subTableOpenVariable","czyRozwiniete")("title","Historia op\u0142at:")},dependencies:[l.O5,y.a,P.y,m.o8,l.uU,b.y],styles:[".historiaTransakcjiH3[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:bolder;letter-spacing:2px}.questionDescription[_ngcontent-%COMP%]{border:2px solid #606060;background:transparent;width:18px;height:18px;line-height:0px;border-radius:50%;color:#000;font-weight:bolder;margin-left:5px}.questionDescription[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.08)}"]}),e})();const ht=[{path:"",component:(()=>{var o;class e{constructor(n,a,c,r){this.listonosz=n,this.komunikaty=a,this.router=c,this.route=r,this.dane=new k,this.paymentId="",this.paymentStatus=""}ngOnInit(){this.route.queryParams.subscribe(n=>{null!=n.paymentId&&n.paymentStatus&&(this.paymentId=n.paymentId,this.paymentStatus=n.paymentStatus,alert("Twoja p\u0142atno\u015b\u0107 zosta\u0142a zako\u0144czona, trwa przetwarzanie p\u0142atno\u015bci. Proces ten mo\u017ce zaj\u0105\u0107 kilka minut"),this.router.navigate([],{queryParams:{paymentId:null,paymentStatus:null},queryParamsHandling:"merge"}))}),this.pobierz(),this.timer=setInterval(()=>{this.pobierz()},1e4)}ngOnDestroy(){clearInterval(this.timer)}pobierz(){this.listonosz.pobierz(p.b.informacjeDoPaneluPlatnosci).then(n=>{Object.assign(this.dane,n)}).catch(n=>{this.komunikaty.wyswietlenieBladNumer(x.c.NiePobierajaSieDajeWPlatnosci)})}}return(o=e).\u0275fac=function(n){return new(n||o)(t.Y36(d.l),t.Y36(w.W),t.Y36(_.F0),t.Y36(_.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-platnosci-pracownika"]],decls:9,vars:1,consts:[[1,"naglowekZolty"],[1,"naglowek1Wzoltym"],[1,"naglowek1Wzoltym2"],[3,"dane","pobierzDane"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Panel p\u0142atno\u015bci"),t.qZA(),t.TgZ(3,"span",2),t._uU(4,"Op\u0142a\u0107 swoje konto aby m\xf3c korzysta\u0107 z jego pe\u0142nych mo\u017cliwo\u015bci"),t.qZA()(),t.TgZ(5,"app-platnosci-pracownika-naglowek",3),t.NdJ("pobierzDane",function(){return a.pobierz()}),t.qZA(),t._UZ(6,"br")(7,"app-platnosci-pracownika-oplaty")(8,"app-platnosci-pracownika-tabela")),2&n&&(t.xp6(5),t.Q6J("dane",a.dane))},dependencies:[G,dt,yt],styles:[".platnosci[_ngcontent-%COMP%]   .divNaNaglowek[_ngcontent-%COMP%]{height:50px;width:100%;float:left;display:flex;justify-content:center;background:antiquewhite;align-items:center;border-bottom:2px solid blue}.platnosci[_ngcontent-%COMP%]   .divNaNaglowek[_ngcontent-%COMP%]   .tytulNaglowka[_ngcontent-%COMP%]{top:-20px}"]}),e})()}];let kt=(()=>{var o;class e{}return(o=e).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.Bz.forChild(ht),_.Bz]}),e})();var Pt=s(1601),bt=s(321);let ft=(()=>{var o;class e{}return(o=e).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,u.u5,m.N9,T.S,kt,Pt.Q,C.uH,y.a,bt.K]}),e})()}}]);