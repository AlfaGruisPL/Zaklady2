"use strict";(self.webpackChunkPanelZakladu=self.webpackChunkPanelZakladu||[]).push([[592],{9514:(x,O,i)=>{i.d(O,{X:()=>g});var t=i(5597),u=i(590),c=i(9212),l=i(9584);let g=(()=>{class d{constructor(h){this.router=h,this.faArrowCircleLeft=u.OFe}back(){history.back()}static#t=this.\u0275fac=function(m){return new(m||d)(c.Y36(l.F0))};static#n=this.\u0275cmp=c.Xpm({type:d,selectors:[["app-back-arrow"]],standalone:!0,features:[c.jDz],decls:1,vars:1,consts:[[1,"strzalka",3,"icon","click"]],template:function(m,r){1&m&&(c.TgZ(0,"fa-icon",0),c.NdJ("click",function(){return r.back()}),c.qZA()),2&m&&c.Q6J("icon",r.faArrowCircleLeft)},dependencies:[t.uH,t.BN],styles:[".strzalka[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;z-index:99900;opacity:1;font-size:32px;transition:.3s;color:#0000009e}.strzalka[_ngcontent-%COMP%]:hover{cursor:pointer;transform:perspective(15px) scale(1.1)}.strzalka[_ngcontent-%COMP%]   .strz[_ngcontent-%COMP%]{transition:.5s ease-out}"]})}return d})()},234:(x,O,i)=>{i.d(O,{K:()=>d});var t=i(6814),u=i(5597),c=i(590),l=i(9212);const g=_=>({notLast:_});let d=(()=>{class _{constructor(){this.titile="Lorem impsum",this.value=9999,this.smallText="lorem impusm 5 more lorem ",this.last=!1,this.icon=c.xG6,this.faBacon=c.xG6}static#t=this.\u0275fac=function(r){return new(r||_)};static#n=this.\u0275cmp=l.Xpm({type:_,selectors:[["app-information-div-for-schedule"]],inputs:{titile:"titile",value:"value",smallText:"smallText",last:"last",icon:"icon"},standalone:!0,features:[l.jDz],decls:7,vars:7,consts:[[1,"block",3,"ngClass"],[1,"title"],[3,"icon"],[1,"value"],[1,"smallText",3,"innerHTML"]],template:function(r,f){1&r&&(l.TgZ(0,"div",0)(1,"h4",1),l._UZ(2,"fa-icon",2),l._uU(3),l.qZA(),l.TgZ(4,"p",3),l._uU(5),l.qZA(),l._UZ(6,"p",4),l.qZA()),2&r&&(l.Q6J("ngClass",l.VKq(5,g,!f.last)),l.xp6(2),l.Q6J("icon",f.icon),l.xp6(1),l.hij(" ",f.titile," "),l.xp6(2),l.Oqu(f.value),l.xp6(1),l.Q6J("innerHTML",f.smallText,l.oJD))},dependencies:[t.ez,t.mk,u.uH,u.BN],styles:['.block[_ngcontent-%COMP%]{width:200px;min-height:70px;display:flex;flex-direction:column;padding:5px;position:relative}@media (max-width: 700px){.block[_ngcontent-%COMP%]{width:150px}}@media (max-width: 500px){.block[_ngcontent-%COMP%]{width:100px}}.block.notLast[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-1px;top:0;height:90%;width:2px;background:rgba(45,45,45,.63);border-radius:50%}.block[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .block[_ngcontent-%COMP%]   .smallText.title[_ngcontent-%COMP%]{padding:0;margin:0;color:#363636}.block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#363636;margin-bottom:0}@media (max-width: 700px){.block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 500px){.block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:12px}}.block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:13px;position:relative;bottom:2px}@media (max-width: 700px){.block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:10px}}@media (max-width: 500px){.block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:none}}.block[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:19px;font-weight:bolder;padding-top:4px;padding-bottom:4px}@media (max-width: 700px){.block[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 500px){.block[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:13px}}.block[_ngcontent-%COMP%]   .smallText[_ngcontent-%COMP%]{font-size:9px;font-weight:700}.block[_ngcontent-%COMP%]   .smallText[_ngcontent-%COMP%]     .active{color:#0ccb00;font-weight:bolder}@media (max-width: 700px){.block[_ngcontent-%COMP%]   .smallText[_ngcontent-%COMP%]{font-size:7px}}@media (max-width: 500px){.block[_ngcontent-%COMP%]   .smallText[_ngcontent-%COMP%]{font-size:6px}}']})}return _})()},1524:(x,O,i)=>{i.d(O,{A:()=>I});var t=i(9212),u=i(5485),c=i(3501),l=i(9514),g=i(6814),d=i(105),_=i(3866),h=i(7047);function m(a,p){1&a&&(t.TgZ(0,"th",4),t._uU(1,"Nr."),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Data"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Utworzenie"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Wykonanie"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Kwota"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Wykonawca"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Zarz\u0105dzanie"),t.qZA())}function r(a,p){1&a&&(t.ynx(0),t._uU(1,"Strona reklamowa"),t.BQk())}function f(a,p){1&a&&(t.ynx(0),t._uU(1,"R\u0119czne"),t.BQk())}function M(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(o);const e=t.oxw().$implicit,s=t.oxw();return t.KtG(s.wyswietlDaneDodatkowe(e))}),t._uU(1,"Us\u0142ugi"),t.qZA()}}function k(a,p){if(1&a){const o=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(o);const e=t.oxw().$implicit,s=t.oxw();return t.KtG(s.wyswietlDaneDodatkowe(e))}),t._uU(1,"Opis"),t.qZA()}}function P(a,p){if(1&a&&(t.TgZ(0,"td",4),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"date"),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,r,2,0,"ng-container",5)(8,f,2,0,"ng-container",5),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"app-completed-visit-status",6),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t.YNc(16,M,2,0,"button",7)(17,k,2,0,"button",7),t.TgZ(18,"button",8),t._uU(19,"Usu\u0144"),t.qZA()()),2&a){const o=p.index,n=p.$implicit;t.xp6(1),t.Oqu(o),t.xp6(2),t.AsE("",t.xi3(4,10,n.poczatek,"dd.MM.yyyy hh:mm/"),"",t.xi3(5,13,n.koniec,"hh:mm"),""),t.xp6(4),t.Q6J("ngIf","reklamowa"==n.tryb),t.xp6(1),t.Q6J("ngIf","reklamowa"!=n.tryb),t.xp6(2),t.Q6J("visit",n),t.xp6(2),t.hij("",n.cena,"z\u0142"),t.xp6(2),t.Oqu(n.pracownik.firstname+" "+n.pracownik.lastname),t.xp6(2),t.Q6J("ngIf","manual"!==n.tryb),t.xp6(1),t.Q6J("ngIf","manual"==n.tryb)}}function Z(a,p){if(1&a&&(t.TgZ(0,"div",13)(1,"span",14),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&a){const o=t.oxw(),n=o.index,e=o.$implicit;t.xp6(2),t.hij("#",n,""),t.xp6(1),t.AsE("",e.nazwa," - ",e.cena,"z\u0142 ")}}function b(a,p){if(1&a&&(t.TgZ(0,"b"),t._uU(1,"Opis us\u0142ugi:"),t.qZA(),t._uU(2)),2&a){const o=t.oxw().$implicit;t.xp6(2),t.hij(" ",o,"")}}function T(a,p){if(1&a&&(t.TgZ(0,"td",10),t.YNc(1,Z,4,3,"div",11)(2,b,3,1,"ng-template",null,12,t.W1O),t.qZA()),2&a){const o=p.$implicit,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.nazwa)("ngIfElse",n)}}let z=(()=>{class a{constructor(){this.klient=new u.N({}),this.page=0,this.pageSize=5}wyswietlDaneDodatkowe(o){o.uslugiTabela?o.uslugiTabela=!1:(this.klient.wizytWZakladzie.forEach(n=>n.uslugiTabela=!1),o.uslugiTabela=!o.uslugiTabela)}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-informacje-okliencie-tabela-zakladu"]],inputs:{klient:"klient"},standalone:!0,features:[t.jDz],decls:4,vars:7,consts:[[3,"async","collectionSize","data","search","subTableOpenVariable","subTableVariable","title"],["TemplateId","thead"],["TemplateId","tbody"],["TemplateId","subTableBody"],[1,"NotInMobile"],[4,"ngIf"],[3,"visit"],["class","domyslnyButton3",3,"click",4,"ngIf"],[1,"domyslnyButtonUsun"],[1,"domyslnyButton3",3,"click"],["colspan","4"],["class","uslugaWWizycie",4,"ngIf","ngIfElse"],["opis",""],[1,"uslugaWWizycie"],[1,"hash"]],template:function(n,e){1&n&&(t.TgZ(0,"app-table",0),t.YNc(1,m,14,0,"ng-template",1)(2,P,20,16,"ng-template",2)(3,T,4,2,"ng-template",3),t.qZA()),2&n&&t.Q6J("async",!1)("collectionSize",e.klient.wizytWZakladzie.length)("data",e.klient.wizytWZakladzie)("search",!1)("subTableOpenVariable","uslugiTabela")("subTableVariable","uslugiArray")("title","Wizyty w zak\u0142adzie:")},dependencies:[g.ez,g.O5,g.uU,d.a,_.y,h.y],styles:["[_nghost-%COMP%]{position:relative;display:block}.modal-body[_ngcontent-%COMP%]{margin:0;padding:0}.top[_ngcontent-%COMP%]{padding-left:3px;padding-bottom:10px;display:flex;flex-wrap:wrap}.top[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{width:100%;padding:5px;font-weight:700}.informacjeOKliencie[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-right:10px;padding-left:20px}.informacjeOKliencie[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .informacjeOKliencie[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:1%}.uslugaWWizycie[_ngcontent-%COMP%]{width:100%;padding-left:10px;padding-top:1px;color:#002793}.uslugaWWizycie[_ngcontent-%COMP%]   .hash[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;pointer-events:none;-webkit-user-select:none;user-select:none}.domyslnyButtonAnuluj[_ngcontent-%COMP%], .domyslnyButton3[_ngcontent-%COMP%], .domyslnyButton2[_ngcontent-%COMP%], .domyslnyButtonZapisz[_ngcontent-%COMP%], .domyslnyButtonUsun[_ngcontent-%COMP%]{letter-spacing:1px;font-size:10px}.paggination[_ngcontent-%COMP%]{margin-top:5px}"]})}return a})();var w=i(7065),v=i(1993),A=i(9584),U=i(9024),j=i(7191);let I=(()=>{class a{constructor(o,n,e){this.activetedRoute_=o,this.http_=n,this.default_=e,this.page=0,this.pageSize=5,this.klient=new u.N({}),this.emplyeeId=(0,t.tdS)(0),this.employees=(0,v.O4)(this.default_.danePodreczneObserveble),this.employeeName="",this.activetedRoute_.paramMap.subscribe(s=>{this.http_.pobierz(c.b.customerInformation+s.get("id")+`/${s.get("employees")}`).then(C=>{this.emplyeeId.set(Number(s.get("employees"))),this.klient=new u.N(C)})}),(0,t.cEC)(s=>{const C=this.emplyeeId(),y=this.employees()?.pracownicy.find(K=>K.id==C);this.employeeName="",y&&(this.employeeName=y.firstname+" "+y.lastname)})}sumaOplat(){let o=this.klient.wizytWZakladzie.reduce((n,e)=>e.cena?n+Number(e.cena):n,0);return o+=this.klient.wizyty.reduce((n,e)=>e.cena?n+Number(e.cena):n,0),Math.round(100*o)/100}pierwszaWizyta(){const o=this.klient.wizytWZakladzie.concat(this.klient.wizyty);return o.length?o.sort((e,s)=>e.poczatek<s.poczatek?-1:1)[0].poczatek:null}ostatniaWizyta(){const o=this.klient.wizytWZakladzie.concat(this.klient.wizyty);return o.length?o.sort((e,s)=>e.poczatek>s.poczatek?-1:1)[0].poczatek:null}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(A.gz),t.Y36(U.l),t.Y36(j.v))};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-informacje-okliencie"]],standalone:!0,features:[t.jDz],decls:41,vars:16,consts:[[1,"modal-body"],[1,"top"],[1,"informacjeOKliencie"],[3,"employee","klient"],[3,"klient"]],template:function(n,e){1&n&&(t._UZ(0,"app-back-arrow"),t.TgZ(1,"div",0)(2,"div",1)(3,"h6"),t._uU(4,"Dane klienta:"),t.qZA(),t.TgZ(5,"table",2)(6,"tr")(7,"th"),t._uU(8,"Klient:"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Suma wizyt:"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()(),t.TgZ(15,"tr")(16,"th"),t._uU(17,"Kontakt:"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t._UZ(20,"br"),t._uU(21),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Suma op\u0142aty:"),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA()()(),t.TgZ(26,"table",2)(27,"tr")(28,"th"),t._uU(29,"Pierwsza wizyta"),t.qZA(),t.TgZ(30,"td"),t._uU(31),t.ALo(32,"date"),t.qZA()(),t.TgZ(33,"tr")(34,"th"),t._uU(35,"Ostatnia wizyta"),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.ALo(38,"date"),t.qZA()()()(),t._UZ(39,"app-informacje-okliencie-tabela-pracownika",3)(40,"app-informacje-okliencie-tabela-zakladu",4),t.qZA()),2&n&&(t.xp6(10),t.Oqu(e.klient.firstName+" "+e.klient.lastName),t.xp6(4),t.Oqu(e.klient.wizytWZakladzie.length+e.klient.wizyty.length),t.xp6(5),t.Oqu(e.klient.phone),t.xp6(2),t.Oqu(e.klient.email),t.xp6(4),t.hij("",e.sumaOplat(),"z\u0142"),t.xp6(6),t.Oqu(t.xi3(32,10,e.pierwszaWizyta(),"dd.MM.yyyy")),t.xp6(6),t.Oqu(t.xi3(38,13,e.ostatniaWizyta(),"dd.MM.yyyy")),t.xp6(2),t.Q6J("employee",e.employeeName)("klient",e.klient),t.xp6(1),t.Q6J("klient",e.klient))},dependencies:[l.X,g.uU,z,w.v],styles:["[_nghost-%COMP%]{position:relative;display:block}.modal-body[_ngcontent-%COMP%]{margin:0;padding:0}.top[_ngcontent-%COMP%]{padding-left:3px;padding-bottom:10px;display:flex;flex-wrap:wrap}.top[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{width:100%;padding:5px;font-weight:700}.informacjeOKliencie[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-right:10px;padding-left:20px}.informacjeOKliencie[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .informacjeOKliencie[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:1%}.uslugaWWizycie[_ngcontent-%COMP%]{width:100%;padding-left:10px;padding-top:1px;color:#002793}.uslugaWWizycie[_ngcontent-%COMP%]   .hash[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;pointer-events:none;-webkit-user-select:none;user-select:none}.domyslnyButtonAnuluj[_ngcontent-%COMP%], .domyslnyButton3[_ngcontent-%COMP%], .domyslnyButton2[_ngcontent-%COMP%], .domyslnyButtonZapisz[_ngcontent-%COMP%], .domyslnyButtonUsun[_ngcontent-%COMP%]{letter-spacing:1px;font-size:10px}.paggination[_ngcontent-%COMP%]{margin-top:5px}"]})}return a})()}}]);