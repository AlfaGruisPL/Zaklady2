(self.webpackChunkPanelZakladu=self.webpackChunkPanelZakladu||[]).push([[208],{7208:(W,v,u)=>{"use strict";u.r(v),u.d(v,{routes:()=>O});var w=u(6814),f=u(3501),t=u(9212);let o=(()=>{class a{transform(e){return null==e?0:Math.round(100*e)/100}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275pipe=t.Yjl({name:"kwota",type:a,pure:!0,standalone:!0})}return a})();var s=u(9024);let c=(()=>{class a{constructor(e){this.listonosz=e,this.dane={}}ngOnInit(){console.log(this.tableComponent?.dane),this.listonosz.pobierz(f.b.podsumowanieInformacje).then(e=>{Object.assign(this.dane,e)}).catch(e=>{})}sumaWMiesiacu(){return this.tableComponent?.dane.reduce((e,n)=>e+n.wizytyOstatniMiesiac.suma,0)}sumaWMiesiacuPoprzednim(){return this.tableComponent?.dane.reduce((e,n)=>e+n.wizytyPoprzedniMiesiac.suma,0)}sumaWMiesiacuKwota(){return this.tableComponent?.dane.reduce((e,n)=>e+n.wizytyOstatniMiesiac.kwota,0)}sumaWMiesiacuPoprzednimKwota(){return this.tableComponent?.dane.reduce((e,n)=>e+n.wizytyPoprzedniMiesiac.kwota,0)}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(s.l))};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-podsumowanie-informacje"]],inputs:{tableComponent:"tableComponent"},standalone:!0,features:[t.jDz],decls:81,vars:30,consts:[[1,"panel"],[1,"mainPanel"],[1,"dane"],[1,"kwota"],[1,"dane2"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3,"Podsumowanie zak\u0142adu"),t.qZA(),t.TgZ(4,"div",2)(5,"table")(6,"tr")(7,"th"),t._uU(8,"Wizyty dzi\u015b"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()(),t.TgZ(11,"tr")(12,"th"),t._uU(13,"Doch\xf3d dzi\u015b"),t.qZA(),t.TgZ(14,"td")(15,"span",3),t._uU(16),t.ALo(17,"kwota"),t.qZA()()(),t.TgZ(18,"tr")(19,"th"),t._uU(20,"Wizyty w tym tygodniu"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()(),t.TgZ(23,"tr")(24,"th"),t._uU(25,"Doch\xf3d w tym tygodniu"),t.qZA(),t.TgZ(26,"td")(27,"span",3),t._uU(28),t.ALo(29,"kwota"),t.qZA()()()(),t.TgZ(30,"table")(31,"tr")(32,"th"),t._uU(33,"Wizyty wczoraj"),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.qZA()(),t.TgZ(36,"tr")(37,"th"),t._uU(38,"Doch\xf3d wczoraj"),t.qZA(),t.TgZ(39,"td")(40,"span",3),t._uU(41),t.ALo(42,"kwota"),t.qZA()()(),t.TgZ(43,"tr")(44,"th"),t._uU(45,"Wizyty w tygodniu poprzednim"),t.qZA(),t.TgZ(46,"td"),t._uU(47),t.qZA()(),t.TgZ(48,"tr")(49,"th"),t._uU(50,"Doch\xf3d w tygodniu poprzednim"),t.qZA(),t.TgZ(51,"td")(52,"span",3),t._uU(53),t.ALo(54,"kwota"),t.qZA()()()()(),t.TgZ(55,"div",4)(56,"table")(57,"tr")(58,"th"),t._uU(59,"Wizyty w tym miesi\u0105cu"),t.qZA(),t.TgZ(60,"td"),t._uU(61),t.TgZ(62,"span",3),t._uU(63),t.ALo(64,"kwota"),t.qZA()()(),t.TgZ(65,"tr")(66,"th"),t._uU(67,"Wizyty w poprzednim miesi\u0105cu"),t.qZA(),t.TgZ(68,"td"),t._uU(69),t.TgZ(70,"span",3),t._uU(71),t.ALo(72,"kwota"),t.qZA()()(),t.TgZ(73,"tr")(74,"th"),t._uU(75,"Suma wizyt"),t.qZA(),t.TgZ(76,"td"),t._uU(77),t.TgZ(78,"span",3),t._uU(79),t.ALo(80,"kwota"),t.qZA()()()()()()()),2&n&&(t.xp6(10),t.AsE("",null==i.dane.wizytyDzis?null:i.dane.wizytyDzis.odbyte," na ",null==i.dane.wizytyDzis?null:i.dane.wizytyDzis.suma,""),t.xp6(6),t.hij("",t.lcZ(17,16,i.dane.dochodDzis),"z\u0142"),t.xp6(6),t.AsE("",null==i.dane.wizytyWTygodniu?null:i.dane.wizytyWTygodniu.odbyte," na ",null==i.dane.wizytyWTygodniu?null:i.dane.wizytyWTygodniu.suma,""),t.xp6(6),t.hij("",t.lcZ(29,18,i.dane.dochodWTygodniu),"z\u0142"),t.xp6(7),t.Oqu(i.dane.wizytyWczoraj),t.xp6(6),t.hij("",t.lcZ(42,20,i.dane.dochodWczoraj),"z\u0142"),t.xp6(6),t.hij(" ",i.dane.wizytyWTygodniuPoprzednim," "),t.xp6(6),t.hij("",t.lcZ(54,22,i.dane.dochodWTygodniuPoprzednim),"z\u0142"),t.xp6(8),t.hij(" ",i.sumaWMiesiacu()," "),t.xp6(2),t.hij("(",t.lcZ(64,24,i.sumaWMiesiacuKwota()),"z\u0142)"),t.xp6(6),t.hij(" ",i.sumaWMiesiacuPoprzednim()," "),t.xp6(2),t.hij("(",t.lcZ(72,26,i.sumaWMiesiacuPoprzednimKwota()),"z\u0142)"),t.xp6(6),t.hij(" ",i.dane.sumaWizyt," "),t.xp6(2),t.hij("(",t.lcZ(80,28,i.dane.sumaWizytKwota),"z\u0142)"))},dependencies:[w.ez,o],styles:[".panel[_ngcontent-%COMP%]{width:100%;min-height:100px;display:block}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding:10px;gap:5px}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{width:90%;margin:0;padding:0 0 10px}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   .dane[_ngcontent-%COMP%]{display:flex;gap:10px;padding-bottom:5px;border-bottom:1px solid #d2d2d2}@media (max-width: 700px){.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   .dane[_ngcontent-%COMP%]{width:100%;flex-direction:column}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   .dane[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]:first-of-type{border-bottom:1px solid #d2d2d2}}@media (max-width: 700px){.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   .dane2[_ngcontent-%COMP%]{flex-direction:column}}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-right:10px}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){min-width:130px}@media (max-width: 700px){.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){min-width:30px}}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#140085}.panel[_ngcontent-%COMP%]   .mainPanel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .kwota[_ngcontent-%COMP%]{color:#09003b}"]})}return a})();var p=u(8282),m=u(3766),y=u.n(m);let z=(()=>{class a{constructor(e){this.listonosz=e,this.labels=[],this.datasets=[],this.data={labels:this.labels,datasets:this.datasets},this.config={type:"line",data:this.data,options:{scale:2,responsive:!0,interaction:{intersect:!1,mode:"index"},scales:{x:{}},plugins:{tooltip:{callbacks:{},caretSize:8,footerFont:{size:15},bodyFont:{size:15},titleFont:{size:15}},legend:{display:!0},title:{display:!0,text:"Wizyty pracownik\xf3w",font:{size:20,family:"math"},color:"#0400b4"}}}},this.resize=!1}ngOnInit(){this.listonosz.pobierz(f.b.podsumowanieDaneDoWykresu).then(e=>{let n=0;e.forEach(i=>{const d=[];i.dane.forEach(Z=>{d.push(Z.ile),0===n&&this.labels.push(Z.data)}),this.labels[0]="Dzi\u015b",this.labels[1]="Wczoraj",n++,this.generateRandomColor(i.pracownik.id),this.datasets.push({label:i.pracownik.firstname+"  "+i.pracownik.lastname,data:d,pointStyle:"circle",pointRadius:2,pointHoverRadius:4,tension:.2,trendlineLinear:{lineStyle:"dotted",width:2}})}),this.config.options.plugins.title.text+=` (${this.labels.length} dni)`,this.chart&&this.chart.destroy(),document.body.clientWidth<800&&(document.getElementById("chartPodsumowania").style.height="50vh",document.getElementById("chartPodsumowania").style.width="100vw"),p.ZP.register(y()),this.chart=new p.ZP("chartPodsumowania",this.config),this.chart.update(),document.body.clientWidth>800&&(this.chart.canvas.parentNode.style.width="628px",this.chart.canvas.parentNode.style.height="340px")})}generateRandomColor(e=(new Date).getTime()){const n=`id${this.generateHash(e.toString())}`;return`#${(Math.abs(this.generateHash(n))%16777215).toString(16).padStart(6,"0")}`}generateHash(e){let n=0;for(let i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i);return n}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(s.l))};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-podsumowanie-wykres"]],standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[[1,"panel"],["id","chartPodsumowania"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"canvas",1),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",i.chart,""))},dependencies:[w.ez],styles:[".panel[_ngcontent-%COMP%]{width:50%;min-height:100px}@media (max-width: 700px){.panel[_ngcontent-%COMP%]{width:100%;min-height:140px}}.resise[_ngcontent-%COMP%]{height:500px;width:80vw}"]})}return a})();var g=u(5597),b=u(105),M=u(3866),l=u(7191);function _(a,h){1&a&&(t.TgZ(0,"th"),t._uU(1,"Lp"),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Pracownik"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Wizyty dzi\u015b"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Wizyty wczoraj"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Tydzie\u0144"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Poprzedni tydzie\u0144"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Miesi\u0105c"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Poprzedni miesi\u0105c"),t.qZA())}function x(a,h){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"kwota"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"kwota"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"kwota"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"kwota"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"kwota"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"kwota"),t.qZA()),2&a){const e=h.index,n=h.$implicit;t.xp6(1),t.Oqu(e),t.xp6(2),t.Oqu(n.pracownik.imie+" "+n.pracownik.nazwisko),t.xp6(2),t.lnq("",n.wizytyDzis.odbyte," na ",n.wizytyDzis.suma," (",t.lcZ(6,15,n.wizytyDzis.kwota),"z\u0142)"),t.xp6(3),t.AsE("",n.wizytyWczoraj.suma," (",t.lcZ(9,17,n.wizytyWczoraj.kwota),"z\u0142)"),t.xp6(3),t.AsE("",n.wizytyOStatniTydzien.suma," (",t.lcZ(12,19,n.wizytyOStatniTydzien.kwota),"z\u0142)"),t.xp6(3),t.AsE("",n.wizytyPoprzedniTydzien.suma," (",t.lcZ(15,21,n.wizytyPoprzedniTydzien.kwota),"z\u0142)"),t.xp6(3),t.AsE("",n.wizytyOstatniMiesiac.suma," (",t.lcZ(18,23,n.wizytyOstatniMiesiac.kwota),"z\u0142)"),t.xp6(3),t.AsE("",n.wizytyPoprzedniMiesiac.suma," (",t.lcZ(21,25,n.wizytyPoprzedniMiesiac.kwota),"z\u0142)")}}let U=(()=>{class a{constructor(e,n){this.listonosz=e,this.danePodreczne_=n,this.dane=[]}ngOnInit(){let n=3;n=4,this.listonosz.pobierz(f.b.podsumowanieTabela).then(i=>{i.forEach(d=>this.dane.push(d))}).catch(i=>{})}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(s.l),t.Y36(l.v))};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-podsumowanie-tabela"]],standalone:!0,features:[t.jDz],decls:3,vars:4,consts:[[3,"async","data","paggiantion","title"],["TemplateId","thead"],["TemplateId","tbody"]],template:function(n,i){1&n&&(t.TgZ(0,"app-table",0),t.YNc(1,_,16,0,"ng-template",1)(2,x,22,27,"ng-template",2),t.qZA()),2&n&&t.Q6J("async",!1)("data",i.dane)("paggiantion",!1)("title","Podsumowanie pracy pracownik\xf3w:")},dependencies:[w.ez,g.uH,o,b.a,M.y]})}return a})();const O=[{path:"",component:(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-podsumowanie"]],standalone:!0,features:[t.jDz],decls:10,vars:1,consts:[[1,"naglowekZolty"],[1,"naglowek1Wzoltym"],[1,"naglowek1Wzoltym2"],[1,"panel1"],[3,"tableComponent"],[1,"panel2"],["tableComponent",""]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"Podsumowanie"),t.qZA(),t._UZ(3,"span",2),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"app-podsumowanie-informacje",4)(6,"app-podsumowanie-wykres"),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"app-podsumowanie-tabela",null,6),t.qZA()),2&n){const d=t.MAs(9);t.xp6(5),t.Q6J("tableComponent",d)}},dependencies:[w.ez,c,z,U],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:2000;overflow-y:auto}img[_ngcontent-%COMP%]{width:100%}.panel1[_ngcontent-%COMP%]{width:100%;display:flex}@media (max-width: 700px){.panel1[_ngcontent-%COMP%]{flex-direction:column}}app-podsumowanie-informacje[_ngcontent-%COMP%]{width:50%}@media (max-width: 700px){app-podsumowanie-informacje[_ngcontent-%COMP%]{width:100%}}app-podsumowanie-wykres[_ngcontent-%COMP%]{width:50%}@media (max-width: 700px){app-podsumowanie-wykres[_ngcontent-%COMP%]{width:100%}}.panel2[_ngcontent-%COMP%]{width:100%}"]})}return a})()}]},3766:(W,v)=>{var u={id:"chartjs-plugin-trendline",afterDatasetsDraw:function(t){var o,s;for(var c in t.scales)if("x"==c[0]?s=t.scales[c]:o=t.scales[c],s&&o)break;var p=t.ctx;t.data.datasets.forEach(function(m,y){var z=m.alwaysShowTrendline||t.isDatasetVisible(y);if(m.trendlineLinear&&z&&m.data.length>1){var g=t.getDatasetMeta(y);!function w(t,o,s,c,p){var m=s.borderColor||"rgba(169,169,169, .6)",y=s.trendlineLinear.colorMin||m,z=s.trendlineLinear.colorMax||m,g=s.trendlineLinear.width||s.borderWidth,b=s.trendlineLinear.lineStyle||"solid",M=s.trendlineLinear.fillColor;g=void 0!==g?g:3;var l=new f,_=s.data.findIndex(r=>null!=r),U=t.data[_].x,j=t.data[s.data.length-1].x,O="object"==typeof s.data[_];s.data.forEach(function(r,A){if(console.log("forEach"),null!=r)if(["time","timeseries"].includes(c.options.type)){var q=null!=r.x?r.x:r.t;void 0!==q?l.add(new Date(q).getTime(),r.y):l.add(A,r)}else O?isNaN(r.x)||isNaN(r.y)?isNaN(r.x)?isNaN(r.y)||l.add(A,r.y):l.add(A,r.x):l.add(r.x,r.y):l.add(A,r)});var e,n,a=c.getPixelForValue(l.minx),h=p.getPixelForValue(l.f(l.minx));if(s.trendlineLinear.projection&&l.scale()<0){var i=l.fo();i<l.minx&&(i=l.maxx),e=c.getPixelForValue(i),n=p.getPixelForValue(l.f(i))}else e=c.getPixelForValue(l.maxx),n=p.getPixelForValue(l.f(l.maxx));O||(a=U,e=j);var d=t.controller.chart.chartArea.bottom,P=t.controller.chart.width;if(h>d){var C=h-d,Z=h-n;h=d,a+=P*(C/Z)}else n>d&&(C=n-d,Z=n-h,n=d,e=P-(e-(P-P*(C/Z))));o.lineWidth=g,o.setLineDash("dotted"===b?[2,3]:[]),o.beginPath(),o.moveTo(a,h),o.lineTo(e,n);var T=o.createLinearGradient(a,h,e,n);n<h?(T.addColorStop(0,z),T.addColorStop(1,y)):(T.addColorStop(0,y),T.addColorStop(1,z)),o.strokeStyle=T,o.stroke(),o.closePath(),M&&(o.fillStyle=M,o.beginPath(),o.moveTo(a,h),o.lineTo(e,n),o.lineTo(e,d),o.lineTo(a,d),o.closePath(),o.fill())}(g,p,m,s,t.scales[g.yAxisID])}}),p.setLineDash([])}};function f(){this.count=0,this.sumX=0,this.sumX2=0,this.sumXY=0,this.sumY=0,this.minx=1e100,this.maxx=-1e100,this.maxy=-1e100}f.prototype={add:function(t,o){t=parseFloat(t),o=parseFloat(o),this.count++,this.sumX+=t,this.sumX2+=t*t,this.sumXY+=t*o,this.sumY+=o,t<this.minx&&(this.minx=t),t>this.maxx&&(this.maxx=t),o>this.maxy&&(this.maxy=o)},f:function(t){t=parseFloat(t);var o=this.count*this.sumX2-this.sumX*this.sumX;return(this.sumX2*this.sumY-this.sumX*this.sumXY)/o+t*((this.count*this.sumXY-this.sumX*this.sumY)/o)},fo:function(){var t=this.count*this.sumX2-this.sumX*this.sumX;return-(this.sumX2*this.sumY-this.sumX*this.sumXY)/t/((this.count*this.sumXY-this.sumX*this.sumY)/t)},scale:function(){return(this.count*this.sumXY-this.sumX*this.sumY)/(this.count*this.sumX2-this.sumX*this.sumX)}},typeof window<"u"&&window.Chart&&(window.Chart.hasOwnProperty("register")?window.Chart.register(u):window.Chart.plugins.register(u));try{W.exports=u}catch{}}}]);